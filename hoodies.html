function addToCart() {
        // Get selected design (radio button)
        const selectedDesignInput = document.querySelector('#interactive-bundle-selector input[name="designSelection"]:checked');
        // Get selected size (radio button)
        const selectedSizeInput = document.querySelector('#size-selector input[name="sizeSelection"]:checked');
        
        // --- VALIDATION ---
        if (!selectedDesignInput) {
            alert("Please select a design.");
            return;
        }
        if (!selectedSizeInput) {
            alert("Please select a size.");
            return;
        }
        
        // --- GET PRODUCT DETAILS ---
        const selectedDesignName = selectedDesignInput.dataset.name;
        const selectedSize = selectedSizeInput.value;
        const designData = product.variations['Design'].find(d => d.option === selectedDesignName);
        const frontImage = designData ? designData.images.front : 'https://placehold.co/100x100';
        const price = parseFloat(product.bundlePrices[0].replace('$', '')); // Hoodie price
        const variantId = `${selectedDesignName}|${selectedSize}|${Date.now()}`; // Unique ID for this specific variant combo

        // --- ADD ITEM TO CART ARRAY ---
        cart.push({
            productId: 'hoodieProduct', // Consistent ID for hoodies
            variantId: variantId,
            name: product.name,
            price: `$${price.toFixed(2)}`,
            image: frontImage,
            variantText: `${selectedDesignName} / ${selectedSize}`,
            quantity: 1
        });

        // --- ADD THIS ENHANCED FB PIXEL CODE ---
        if (typeof fbq === 'function') { // Check if fbq is loaded
            try {
                fbq('track', 'AddToCart', {
                    content_ids: [variantId], // Use the unique variant ID created above
                    content_name: `${product.name} - ${selectedDesignName} / ${selectedSize}`, // More specific name
                    content_category: 'Apparel & Accessories > Clothing > Outerwear > Hoodies & Sweatshirts', // Optional: Add category
                    content_type: 'product',
                    value: price, // Use the numeric price variable
                    currency: 'USD' // IMPORTANT: Change 'USD' if needed
                });
            } catch (e) {
                console.error("FB Pixel AddToCart Error:", e);
            }
        }
        // --- END OF ENHANCED FB PIXEL CODE ---

        saveState();
        renderCart();
        
        showItemAddedPopup({ mediaUrl: frontImage }, `Added <strong>1 item</strong> to your cart!`);
        
        startCartTimer(); 
        // REMOVE the old, basic fbq('track', 'AddToCart'); line if it exists elsewhere
    }
